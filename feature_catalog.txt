Comprehensive Feature Catalog and Completion Tasks

Core Account Provisioning
- Telegram account acquisition and registration
  - Enforce provider capability checks before dispatching runs across all configured providers and target countries.
  - Implement pooled number inventory preflight to confirm at least N numbers are available per provider before starting bulk runs.
  - Add retryable, non-blocking SMS retrieval with jittered backoff and user-visible countdowns.
  - Centralize cancellation so proxy assignment, phone orders, and client sessions are released even when failures occur mid-run.
  - Record provider transaction IDs, operator, and cost in the database for every number lifecycle step.
  - Validate API keys and country selections in the UI with inline error messages and disable start until valid.
  - Surface FloodWait and PhoneCode errors to operators with actionable guidance instead of silent retries.
  - Add per-account and per-run audit logs covering proxy used, device fingerprint, phone cost, and username outcomes.
  - Implement configurable concurrency limits to avoid provider-side throttling and share status with the UI.
  - Add resilience tests for poor connectivity, partial SMS delivery, and provider 429/5xx responses.

- Account warmup and pacing
  - Require per-stage validation and refuse launch when stages reference missing scripts or prompts.
  - Persist warmup queues with indexes on next_attempt_at for fast scheduling at scale.
  - Add UI controls for blackout windows, stage-level weights, and per-day ceilings.
  - Implement jittered per-action delays and cap hourly retries to prevent FloodWait bursts.
  - Provide real-time progress and error feeds; mark stuck stages and auto-resume after restarts.
  - Cleanly cancel warmups by terminating active clients, releasing proxies, and persisting last checkpoint.
  - Periodically prune historical warmup logs based on retention while keeping aggregate stats.
  - Add warmup success/failure metrics to the analytics dashboard with drill-down per account.

- Profile setup and personalization
  - Generate locale-aware names, bios, and profile pictures keyed to chosen personas with fallback assets.
  - Detect duplicate username collisions early and iterate through candidate pools before failing the run.
  - Validate photo existence and hash caching; re-upload only when content changes.
  - Enforce Telegram character limits on bios/usernames with immediate UI validation.
  - Track profile setup outcomes in the database for audit and retry targeting.

Proxy Management
- Proxy pool ingestion, testing, and assignment
  - Sanitize imported proxy lists and block directory traversal or invalid destination paths.
  - Enforce encryption or redaction for persisted proxy credentials and historical test payloads.
  - Add integrity checks for proxy DB backups before rotation and surface failures in the UI.
  - Provide per-endpoint cooldown visibility, last-test timestamps, and manual retest actions.
  - Cap concurrent feed polls and surface endpoints with repeated failures requiring operator intervention.
  - Export health reports with sanitized filenames, explicit timezone stamps, and optional password protection.
  - Allow per-account assignment locking to prevent proxy churn during critical flows.
  - Add automated cleanup of failed/expired proxies with operator notifications and audit logs.

Scraping and Member Intelligence
- Channel/member scraping
  - Validate channel identifiers, sanitize export filenames, and prevent traversal in user-specified output paths.
  - Implement per-account risk scoring with throttling, randomized pauses, and ban-probability gates.
  - Handle private/supergroup differences, message history gaps, and pagination limits.
  - Capture partial results on failures and emit clear diagnostics to the UI and logs.
  - Support resumable scraping jobs with persisted cursors and duplicate suppression.

- Threat detection and anti-detection
  - Persist applied weight overrides and surface them alongside risk outcomes for debugging.
  - Provide UI toggles for group-level disables and per-scope cooldown indicators.
  - Add anomaly alerts for spike detection (joins/leaves/messages) with configurable thresholds.
  - Integrate proxy health signals into risk calculations to downgrade noisy proxies.

Campaigns and Scheduling
- Direct messaging campaigns
  - Record which template variant was sent for A/B comparisons and aggregate stats.
  - Validate message length and media constraints per target; preflight blocked users and rate limits.
  - Provide per-target error reporting and retry policies with exponential backoff and jitter.
  - Surface delivery, read receipts, and response-time analytics per campaign.

- Engagement/reaction automation
  - Add per-rule enable/disable toggles and UI visibility of cooldowns.
  - Deduplicate reactions across overlapping rules and log suppression reasons.
  - Enforce retention pruning with alerts on failures or locked tables.

- Intelligent scheduler
  - Respect blackout windows and timezone preferences with UI confirmation of detected timezone.
  - Default send-times to local timezone; fall back explicitly with warnings on detection errors.
  - Clean up failed and pending records with configurable retention and audit traces.

Analytics and Dashboards
- Analytics dashboard
  - Show partial-data banners on DB outages and retry with rate-limited refreshes.
  - Aggregate counts via SQL to avoid in-memory full loads; guard against malformed timestamps.
  - Add drill-down links to account, campaign, and warmup logs with pagination.
  - Cache expensive queries and provide export options with sanitized names.

- Performance monitoring
  - Warn when psutil or system metrics are unavailable and degrade gracefully.
  - Emit progress when monitoring tasks are requeued due to resource pressure.
  - Allow configurable sampling intervals and retention; prune historical metrics.

Onboarding and Settings
- Setup wizard
  - Debounce repeated validation attempts and repair corrupted files instead of loop retries.
  - Verify provider keys, proxy inputs, and storage paths with immediate inline errors.
  - Persist progress checkpoints and validate stage files before marking completion.

- Settings window
  - Persist all toggles (advanced features, timezone, delays) with read-back verification.
  - Validate provider and country combos before enabling account runs.
  - Provide status feedback when timezone detection fails and document fallback behavior.

Messaging and Conversations
- Status intelligence and receipts
  - Use actual receipt metadata with retry/backoff; persist receipts for restart safety.
  - Add jitter to bulk status checks and guard against FloodWait collisions.
  - Surface per-message sentiment and reaction timelines for conversations.

- Conversation analysis
  - Limit sentiment history depth per user to bound storage.
  - Store response time calculations deterministically and expose anomalies.

Persistent Connections and Monitoring
- Persistent connection manager
  - Ensure reconnect tasks are tracked and awaited on shutdown; log orphan cleanup.
  - Add health metrics to dashboard and expose manual reconnect controls.

- Advanced features manager
  - Persist enabled feature toggles and timezone preferences; handle state-file errors visibly.
  - Surface failure when timezone detection fails instead of silent UTC fallback.

Cloning and Anti-detection
- Account cloning
  - Track temporary client sessions and ensure teardown on completion or error.
  - Return explicit creation flags and errors instead of silent failures for username/profile load.
  - Integrate proxy selection and anti-detection fingerprints during cloning.

Database and Storage
- Database operations
  - Add indexes for scheduling/warmup next_attempt_at to speed queue lookups.
  - Enforce WAL integrity checks on backups and report rotation failures.
  - Sanitize user-supplied file paths across exports and imports to prevent traversal.
  - Apply retention policies to warmup activity, engagement logs, and conversation flows.

User Interface and UX
- UI wiring
  - Ensure every button/menu item invokes a handler with success/failure feedback.
  - Add empty/error states for dashboards, scrapers, and campaign views.
  - Provide accessibility-friendly labels and keyboard shortcuts for primary actions.

Security and Compliance
- Access control
  - Validate external inputs (file paths, URLs, API keys) and redact secrets in logs/exports.
  - Encrypt sensitive proxy credentials and provider tokens at rest and in transit.
  - Add audit logs for destructive actions (cleanup, cancellation, deletions).
