Comprehensive Audit Findings (markdown removed per instructions)

Resolved items
- Warmup retries now honor cooperative cancellation with bounded sleeps and stop signals, preventing event-loop stalls during exponential backoff. [accounts/account_warmup_service.py]
- Warmup job loading and validation now surface invalid stages/priorities instead of failing silently, and cleanup logs teardown errors for visibility. [accounts/account_warmup_service.py]
- 5SIM purchases pick an available product/operator before buying to avoid stubbed requests. [accounts/account_creator.py]
- Persistent connection shutdown waits for reconnect tasks before exiting monitoring loops. [telegram/persistent_connection_manager.py]
- System tray icon is fully wired with show/hide/quit actions instead of a placeholder. [main.py]
- Gemini prompt resolution now logs failures rather than suppressing them silently. [ai/gemini_service.py]
- Performance monitor shutdown surfaces worker/monitor cancellation issues for easier debugging. [monitoring/performance_monitor.py]
- Profile setup now generates regional names, applies bios, and avoids duplicate profile-photo updates while honoring missing files. [accounts/account_creator.py]
- Number cancellation implements provider-specific flows for SMS-Hub, 5SIM, SMSPool, DaisySMS, and TextVerified to prevent paid-number leaks. [accounts/account_creator.py]
- Scraping task execution now delegates to real scraping backends instead of random counters; analyze tasks error when backends are missing. [scraping/member_scraper.py]
- Read receipt checks rely on actual receipt metadata/views rather than elapsed time heuristics. [ai/status_intelligence.py]
- Conversation analytics compute response times deterministically from timestamps instead of random placeholders. [ai/conversation_analyzer.py]
- Scheduler timezone selection pulls the local timezone instead of using a placeholder string. [monitoring/advanced_features_manager.py]
- Member profile dialogs load stored avatar images when available instead of always showing placeholders. [ui/ui_components.py]
- Warmup retries now persist next-attempt timestamps so backoff survives restarts instead of losing progress. [accounts/account_warmup_service.py]
- Provider balance checks run in the background with caching to avoid UI stalls and repeated network calls. [ui/settings_window.py]
- Removed misleading backup file settings_window.py.bak from the root directory. [settings_window.py.bak]
- Proxy pool health statistics persist across launches instead of resetting aggregated counters. [proxy/proxy_pool_manager.py]
- Analytics dashboard surfaces a partial-data banner when database queries fail, clarifying empty states. [ui/analytics_dashboard.py]
- Engagement automation skips duplicate reactions per rule/message and enforces a unique index. [campaigns/engagement_automation.py]
- Conversation analyzer records per-message sentiment scores for richer pattern analysis. [ai/conversation_analyzer.py]
- Read-receipt polling now retries with backoff instead of dropping transient get_messages failures. [ai/status_intelligence.py]
- Scraper error paths return partial results (members scraped, admin sample) instead of silent failures. [scraping/member_scraper.py]
- Manual proxy testing records last-tested timestamps and displays them in the table. [ui/proxy_management_widget.py]
- Name generation now includes locale-specific surnames for JP/AU profiles. [accounts/account_creator.py]
- Profile photo hashes persist to disk to prevent duplicate uploads across sessions. [accounts/account_creator.py]
- Bio generation honors persona templates/configured personas before falling back to defaults. [accounts/account_creator.py]
- Scheduler cleans up stale scheduled_messages records to contain database growth. [campaigns/intelligent_scheduler.py]
- Warmup daily activity logs now persist across runs, retaining per-number pacing data. [accounts/account_warmup_service.py]
- Warmup monitor tasks are tracked and cancelled on shutdown to avoid lingering coroutines. [accounts/account_warmup_service.py]
- Proxy cleanup loop now backs off after database errors to prevent tight retry storms. [proxy/proxy_pool_manager.py]
- SMS provider country validation now blocks unsupported country codes from manual selection. [ui/settings_window.py]
- Manual proxy cleanup clears the status banner when no entries remain. [ui/proxy_management_widget.py]
- Analytics member metrics rely on aggregated SQL counts instead of full in-memory loads. [ui/analytics_dashboard.py]
- Engagement statistics and logs prune old rows using configurable retention. [campaigns/engagement_automation.py]
- Conversation flows prune stale histories to keep analytics storage bounded. [ai/conversation_analyzer.py]
- Read receipt tracking hydrates persisted receipts to prevent reprocessing on restart. [ai/status_intelligence.py]
- Threat detection weights and safe thresholds are now tunable instead of hard-coded. [scraping/member_scraper.py]
- Username assignment retries log final failure details and attempt more candidates. [accounts/account_creator.py]
- Scheduler avoids blackout windows when picking optimal send times. [campaigns/intelligent_scheduler.py]
- Proxy management UI can export health/test results for auditing. [ui/proxy_management_widget.py]
- Advanced features manager persists timezone preferences even without a base config. [monitoring/advanced_features_manager.py]
- DM campaign manager enforces maximum message length before sending to avoid platform rejection. [campaigns/dm_campaign_manager.py]
- Analytics dashboard now rate-limits manual refresh triggers to prevent rapid-fire database hammering. [ui/analytics_dashboard.py]
- Warmup stage conversation prompts are cached per account to avoid repeated Gemini calls on retries. [accounts/account_warmup_service.py]
- Proxy endpoint fetching is bounded by a semaphore to cap concurrent outbound polls across feeds. [proxy/proxy_pool_manager.py]
- Scheduler cleanup removes failed pending records alongside sent/pending entries using shared cutoffs. [campaigns/intelligent_scheduler.py]
- Manual proxy tests honor a user-configurable timeout via the fallback controls instead of a fixed 3-second socket timeout. [ui/proxy_management_widget.py]
- Bulk status checks now apply randomized jitter between batches to avoid bursty calls that can trigger FloodWait errors. [ai/status_intelligence.py]
- Advanced features manager persists enabled feature selections to the state file so toggles survive restarts. [monitoring/advanced_features_manager.py]
- Performance monitor warns when psutil is unavailable so operators know CPU/memory sampling is degraded. [monitoring/performance_monitor.py]
- Warmup activity logs prune entries older than 120 days to prevent unbounded growth. [accounts/account_warmup_service.py]
- Proxy health exports now include authentication fields to aid debugging credential-dependent failures. [ui/proxy_management_widget.py]

Outstanding critical/high/medium items
- Bulk account creation still lacks a preflight inventory check for available phone numbers across providers, so runs can fail midway. [accounts/account_creator.py]

Newly identified issues (15)
1) Member scraper does not sanitize exported CSV filenames from channel identifiers, allowing invalid paths on Windows. [scraping/member_scraper.py]
2) Engagement automation rules lack per-group disable toggles once created, forcing DB edits to pause a single group. [campaigns/engagement_automation.py]
3) Conversation analyzer does not cap sentiment history depth per user, allowing sentiment table growth even after flow pruning. [ai/conversation_analyzer.py]
4) DM campaign manager does not record which template variant was sent, complicating performance comparisons. [campaigns/dm_campaign_manager.py]
5) Threat detector does not log applied weight overrides, obscuring debugging when tuning thresholds. [scraping/member_scraper.py]
6) Member scraper export sanitization still lacks directory traversal checks when user-provided paths are used. [scraping/member_scraper.py]
7) Campaign reaction automation still misses per-rule cooldown visibility in the UI, leading to operator confusion. [campaigns/engagement_automation.py]
8) Proxy pool persistence does not encrypt historical test payloads, leaving credentials exposed in edge cases. [proxy/proxy_pool_manager.py]
9) Backup routines for the proxy database skip integrity verification before rotation. [proxy/proxy_pool_manager.py]
10) Setup wizard retry logic does not debounce repeated validation attempts, allowing rapid-fire writes to corrupted files. [core/setup_wizard.py]
11) Manual proxy import paths allow directory traversal when custom destination folders are supplied. [ui/proxy_management_widget.py]
12) Scheduler UI does not surface timezone preference failures, silently falling back to UTC. [monitoring/advanced_features_manager.py]
13) Engagement stats pruning runs without alerting when rows remain unchanged, hiding potential vacuum/locking issues. [campaigns/engagement_automation.py]
14) Warmup job table lacks an index on next_attempt_at, slowing large backoff queues. [accounts/account_warmup_service.py]
15) Performance monitor queue workers do not emit progress when operations are requeued for resource pressure, hiding delays. [monitoring/performance_monitor.py]

Newly identified issues (15 more)
16) Phone number inventory preflight is missing; bulk runs start without ensuring enough numbers across providers. [accounts/account_creator.py]
17) Warmup queue lacks an index on next_attempt_at, slowing scheduling as queues grow. [accounts/account_warmup_service.py]
18) Proxy credential exports remain unencrypted, exposing secrets if files leak. [proxy/proxy_pool_manager.py]
19) Proxy database backups rotate without checksum validation or failure alerts. [proxy/proxy_pool_manager.py]
20) Scraper CSV exports do not sanitize channel-derived filenames or user-provided paths, allowing invalid or unsafe destinations. [scraping/member_scraper.py]
21) Engagement automation rules cannot be toggled per group after creation, forcing DB edits. [campaigns/engagement_automation.py]
22) Conversation sentiment history is unbounded per user, risking storage growth. [ai/conversation_analyzer.py]
23) DM campaign manager does not record template variant usage, blocking A/B analytics. [campaigns/dm_campaign_manager.py]
24) Threat detector weight overrides are not logged alongside decisions, hindering tuning. [scraping/member_scraper.py]
25) Scheduler UI silently falls back to UTC when timezone persistence fails. [monitoring/advanced_features_manager.py]
26) Proxy import routines do not guard against directory traversal in custom destination folders. [ui/proxy_management_widget.py]
27) Setup wizard retries are not debounced, allowing rapid writes to corrupted state. [core/setup_wizard.py]
28) Performance monitor queue requeue events are not surfaced, hiding resource-induced delays. [monitoring/performance_monitor.py]
29) Read receipt bulk refresh still risks FloodWait without per-account pacing gates. [ai/status_intelligence.py]
30) Manual proxy health exports lack filename sanitization and timezone context for audits. [ui/proxy_management_widget.py]
